<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Type 2 Diabetes Management During Ramadan</title>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Lexend', sans-serif;
            padding: 15px;
            line-height: 1.6;
            color: #333;
            max-width: 100%;
            overflow-x: hidden;
        }

        h1, h2 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        h1 {
            font-size: clamp(1.5rem, 5vw, 2.5rem);
            font-weight: 700;
        }

        h2 {
            font-size: clamp(1.2rem, 4vw, 2rem);
            font-weight: 600;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            margin-top: 20px;
        }

        .note {
            background-color: #f9f9f9;
            padding: 15px;
            border-left: 5px solid #3498db;
            margin: 15px 0;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .table-container {
            width: 100%;
            overflow-x: auto;
            margin: 15px 0;
            -webkit-overflow-scrolling: touch;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background: white;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
            min-width: 120px;
        }

        th {
            background-color: #3498db;
            color: white;
            font-weight: 600;
            white-space: nowrap;
        }

        @media screen and (max-width: 768px) {
            .table-responsive {
                display: block;
            }

            .table-responsive tbody {
                display: block;
            }

            .table-responsive tr {
                display: block;
                margin-bottom: 1rem;
                border: 1px solid #ddd;
                border-radius: 5px;
                padding: 0.5rem;
            }

            .table-responsive td {
                display: block;
                text-align: left;
                padding: 8px;
                border: none;
                border-bottom: 1px solid #eee;
            }

            .table-responsive td:last-child {
                border-bottom: none;
            }

            .table-responsive td::before {
                content: attr(data-label);
                font-weight: bold;
                display: block;
                margin-bottom: 5px;
                color: #3498db;
            }
        }

        .example {
            font-size: 0.85em;
            color: #555;
            margin-top: 5px;
            padding: 8px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .warning {
            color: #e74c3c;
            font-weight: bold;
            padding: 8px;
            margin: 5px 0;
            background: #fff5f5;
            border-radius: 4px;
        }

        .medication-name {
            color: #9b59b6;
            font-weight: 500;
        }

        .brand-names {
            font-size: 0.8em;
            color: #8e44ad;
            display: block;
            margin-top: 5px;
        }

        .collapsible {
            width: 100%;
            padding: 15px;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1.1rem;
            background: #f8f9fa;
            border-radius: 5px;
            margin: 10px 0;
            cursor: pointer;
        }

        .content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .active {
            background: #e9ecef;
        }
    </style>
</head>
<body>
    <h1>Type 2 Diabetes Management During Ramadan</h1>
    
    <div class="note">
        <strong>Important:</strong> All dose adjustments should be discussed with your healthcare provider. These are general guidelines and may need to be modified based on individual circumstances.
    </div>

    <h2 class="collapsible">Insulin Adjustments</h2>
    <div class="content">
        <div class="table-container">
            <table class="table-responsive" id="insulin-table">
                <thead>
                    <tr>
                        <th>Insulin Type</th>
                        <th>Adjustments</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <h2 class="collapsible">Oral Therapy Adjustments</h2>
    <div class="content">
        <div class="table-container">
            <table class="table-responsive" id="oral-table">
                <thead>
                    <tr>
                        <th>Medication</th>
                        <th>Sunset Meal (Iftar)</th>
                        <th>Pre-Dawn Meal (Sahur)</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const insulinData = [
                {
                    regimen: "Basal Insulin Only",
                    adjustments: "Basal insulin to be taken at bedtime or after waktu berbuka meals. May need dose reduction if there is a risk of daytime hypoglycemia.<div class='example'>Example: If usual dose is 20 units → Consider reducing to 15-16 units (20-25% reduction) during Ramadan</div>"
                },
                {
                    regimen: "Premixed Insulin Once Daily",
                    adjustments: "Inject usual dose at waktu berbuka meals.<div class='example'>Example: If taking 30 units in the morning before Ramadan → Take 30 units at waktu berbuka during Ramadan</div>"
                },
                {
                    regimen: "Premixed Insulin Twice Daily",
                    adjustments: "Reverse doses – Morning dose given at waktu berbuka and evening dose at waktu sahur. Insulin dose at waktu sahur reduced by 20-50% to prevent daytime hypoglycemia.<div class='example'>Example: If usual doses are 30 units morning + 20 units evening → During Ramadan:<br>- Waktu Berbuka: 30 units (morning dose)<br>- Waktu Sahur: 10-16 units (evening dose reduced by 20-50%)</div>"
                },
                {
                    regimen: "Basal Bolus Insulin",
                    adjustments: "Basal insulin: Taken at bedtime or any time after waktu berbuka meals. May require dose reduction if there is daytime hypoglycemia.<br>Bolus/Prandial insulin: Waktu Sahur – Usual pre-Ramadan breakfast or lunch dose. May require dose reduction to avoid daytime hypoglycemia. Waktu Berbuka – Usual pre-Ramadan dinner dose. May require dose increment.<div class='example'>Example for a patient on 40 units basal + 10 units with each meal:<br>During Ramadan:<br>- Basal: 30-32 units (20-25% reduction)<br>- Waktu Sahur: 7-8 units (20-25% reduction)<br>- Waktu Berbuka: 10-12 units (may need slight increase)</div>"
                },
                {
                    regimen: "Insulin Pump",
                    adjustments: "Basal insulin rate: Unchanged or may require reduction of up to 25%. Prandial bolus: According to individualized insulin to carbohydrate ratio (ICR).<div class='example'>Example: If basal rate is 1.0 units/hour → Consider reducing to 0.75-0.8 units/hour during fasting hours</div>"
                }
            ];

            const oralData = [
                {
                    regimen: "<span class='medication-name'>α-glucosidase inhibitors</span><br><span class='brand-names'>Brand names: Glucobay (Acarbose), Glyset (Miglitol)</span>",
                    iftar: "No changes<div class='example'>Take your usual dose with waktu berbuka meal</div>",
                    sahur: "No changes<div class='example'>Take your usual dose with waktu sahur meal</div>"
                },
                {
                    regimen: "<span class='medication-name'>Biguanides (Metformin)</span><br><span class='brand-names'>Brand names: Glucophage, Glumetza, Riomet, Fortamet</span>",
                    iftar: "Immediate-release: No changes<br>Twice daily: No changes<br>Thrice daily: Take two thirds of daily dose<div class='example'>Examples:<br>- If usual dose is 3000mg daily (1000mg x 3) → Take 2000mg at waktu berbuka<br>- If usual dose is 2400mg daily (800mg x 3) → Take 1600mg at waktu berbuka<br>- If usual dose is 1500mg daily (500mg x 3) → Take 1000mg at waktu berbuka</div><br>Extended-release: Full dose",
                    sahur: "Immediate-release: No changes<br>Twice daily: Take one third of daily dose<div class='example'>Examples:<br>- If usual dose is 2000mg daily (1000mg x 2) → Take 700mg at waktu sahur<br>- If usual dose is 1000mg daily (500mg x 2) → Take 350mg at waktu sahur</div><br>Thrice daily: No changes<br>Extended-release: None"
                },
                {
                    regimen: "<span class='medication-name'>Dipeptidyl peptidase-4 inhibitors</span><br><span class='brand-names'>Brand names: Januvia (Sitagliptin), Onglyza (Saxagliptin), Tradjenta (Linagliptin), Galvus (Vildagliptin)</span>",
                    iftar: "No changes<div class='example'>Take your usual once-daily dose with waktu berbuka meal</div>",
                    sahur: "No changes<div class='warning'>If you take this medication twice daily, take your second dose with waktu sahur</div>"
                },
                {
                    regimen: "<span class='medication-name'>Meglitinides</span><br><span class='brand-names'>Brand names: Prandin (Repaglinide), Starlix (Nateglinide)</span>",
                    iftar: "No changes<div class='example'>Take your usual dose with waktu berbuka meal</div>",
                    sahur: "No changes<div class='example'>Take your usual dose with waktu sahur meal</div>"
                },
                {
                    regimen: "<span class='medication-name'>Sulphonylureas</span><br><span class='brand-names'>Brand names: Diabeta/Glynase (Glibenclamide), Diamicron (Gliclazide), Amaryl (Glimepiride)</span>",
                    iftar: "Glibenclamide, Gliclazide: No changes<br>Gliclazide MR, Glimepiride: No changes<div class='example'>Examples:<br>- If taking Glimepiride 4mg daily → Take 4mg at waktu berbuka<br>- If taking Gliclazide MR 60mg daily → Take 60mg at waktu berbuka</div>",
                    sahur: "Glibenclamide, Gliclazide: Reduce/omit<div class='example'>Examples:<br>- If taking Glibenclamide 5mg twice daily → Take 2.5mg at waktu sahur or skip dose<br>- If taking Gliclazide 80mg twice daily → Take 40mg at waktu sahur or skip dose</div><div class='warning'>Monitor blood sugar closely if reducing rather than omitting</div><br>Gliclazide MR, Glimepiride: Switch dosing to sunset meal"
                },
                {
                    regimen: "<span class='medication-name'>Sodium glucose co-transporter 2 inhibitors</span><br><span class='brand-names'>Brand names: Invokana (Canagliflozin), Farxiga (Dapagliflozin), Jardiance (Empagliflozin)</span>",
                    iftar: "No changes<div class='example'>Take your usual daily dose with waktu berbuka meal</div>",
                    sahur: "Switch dosing to sunset meal<div class='warning'>Do not take at waktu sahur due to risk of dehydration during fasting</div>"
                },
                {
                    regimen: "<span class='medication-name'>Thiazolidinediones</span><br><span class='brand-names'>Brand names: Actos (Pioglitazone), Avandia (Rosiglitazone)</span>",
                    iftar: "No changes<div class='example'>Take your usual daily dose with waktu berbuka meal</div>",
                    sahur: "None<div class='example'>These medications are usually taken once daily - take entire dose at waktu berbuka</div>"
                }
            ];

            function populateTable(tableId, data) {
                const tableBody = document.querySelector(`#${tableId} tbody`);
                data.forEach(item => {
                    const row = document.createElement('tr');

                    if (tableId === 'insulin-table') {
                        const regimenCell = document.createElement('td');
                        regimenCell.setAttribute('data-label', 'Insulin Type');
                        regimenCell.innerHTML = item.regimen;
                        row.appendChild(regimenCell);

                        const adjustmentsCell = document.createElement('td');
                        adjustmentsCell.setAttribute('data-label', 'Adjustments');
                        adjustmentsCell.innerHTML = item.adjustments;
                        row.appendChild(adjustmentsCell);
                    } else {
                        const regimenCell = document.createElement('td');
                        regimenCell.setAttribute('data-label', 'Medication');
                        regimenCell.innerHTML = item.regimen;
                        row.appendChild(regimenCell);

                        const iftarCell = document.createElement('td');
                        iftarCell.setAttribute('data-label', 'Sunset Meal (Iftar)');
                        iftarCell.innerHTML = item.iftar;
                        row.appendChild(iftarCell);

                        const sahurCell = document.createElement('td');
                        sahurCell.setAttribute('data-label', 'Pre-Dawn Meal (Sahur)');
                        sahurCell.innerHTML = item.sahur;
                        row.appendChild(sahurCell);
                    }

                    tableBody.appendChild(row);
                });
            }

            populateTable('insulin-table', insulinData);
            populateTable('oral-table', oralData);

            const collapsibles = document.querySelectorAll('.collapsible');
            collapsibles.forEach(coll => {
                coll.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    content.style.maxHeight = content.style.maxHeight 
                        ? null 
                        : content.scrollHeight + "px";
                });
            });
        });
    </script>
</body>
</html>